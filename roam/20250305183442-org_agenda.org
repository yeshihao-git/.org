:PROPERTIES:
:ID:       ff91392f-bdeb-4fd6-b4fd-d0355c3be5eb
:END:
#+title: org-agenda
#+filetags: org-mode

* org-agenda
- org-agenda :: org mode 的 *任务和日程管理* 系统。 **Org Agenda*视图* ，用于查看、管理：待办事项 (TODO) 、日程 (SCHEDULED)、截止日期 (DEADLINE) 等信息

** 快速开始
1. =M-x org-agenda= 启动 agenda菜单
2. 将文件加入 **Org Agenda*视图* 以进行显示/管理
   |--------------------------+--------+-----------------------------|
   | 函数                     | 快捷键 | 作用                        |
   |--------------------------+--------+-----------------------------|
   | org-agenda-file-to-front | C-c [  | 将文件加入 org-agenda-files |
   | org-remove-file          | C-c ]  | 将文件移出 org-agenda-files |
   |--------------------------+--------+-----------------------------|
   - org-agenda-files :: （变量）org-agenda 管理的文件列表
3. **Org Agenda*视图* 的相关操作
   |----------+--------------------+----------------------------------------------|
   |          | 快捷键             | 作用                                         |
   |----------+--------------------+----------------------------------------------|
   | 日期跳转 | .                  | 今天                                         |
   |          | j                  | 从 *Calendar*视图 跳转                       |
   |          | f                  | 下一周                                       |
   |          | b                  | 上一周                                       |
   |----------+--------------------+----------------------------------------------|
   | 任务     | t                  | TODO菜单                                     |
   |          | ,                  | 优先级                                       |
   |          | >                  | org-schedule                                 |
   |          | :                  | tags                                         |
   |          | e                  | effort                                       |
   |          | z                  | 添加笔记                                     |
   |          | C-k                | 删除任务及 org文件 对应部分                  |
   |          | C-c C-w            | org-refile                                   |
   |          | SPC                | 另一个buffer显示 任务对应org文件             |
   |          | TAB                | 同上，但光标移到另一个buffer中               |
   |          | F                  | （更随模式）光标在任务中移动，显示对应buffer |
   |          | o                  | 关闭 *Org Agenda*视图 外的buffer             |
   |----------+--------------------+----------------------------------------------|
   | 计时     | I                  | 开始/结束时钟                                |
   |          | O                  | 结束时钟                                     |
   |          | X                  | 结束正在运行的时钟                           |
   |----------+--------------------+----------------------------------------------|
   | 视图     | v                  | [[id:d679495c-0257-46fe-876c-68ca1941ce18][切换视图]]                                     |
   |          | r或g               | 重建视图                                     |
   |          | org-agenda-columns | 打开 column view                             |
   |----------+--------------------+----------------------------------------------|
   | 视图过滤 | <                  | 类别（category）                             |
   |          | \                  | 标签（tags）                                 |
   |          | -                  | 努力值（effort）                             |
   |          | =                  | 正则（regexp）                               |
   |          | 竖线               | 取消一切过滤操作                             |
   |          | /                  | [[id:bea5cc0e-e188-4c98-ad9f-307b1d5776dc][组合过滤]]                                     |
   |----------+--------------------+----------------------------------------------|

** org-agenda视图中进行过滤
:PROPERTIES:
:ID:       bea5cc0e-e188-4c98-ad9f-307b1d5776dc
:END:
1. **Org Agenda*视图* 中按 =/= （调用的是 org-agenda-filter）
2. 语法： =(+/-)category(+/-)tags(+/-)effort(+/-)regexp=
#+name: 示例
#+begin_example bash
+work-John+<0:10-/plot / # 选择category为work，反选tags为John，选择effort小于10分钟，反选带有plot关键字 的任务
#+end_example

** org-agenda视图中切换视图
:PROPERTIES:
:ID:       d679495c-0257-46fe-876c-68ca1941ce18
:END:
1. **Org Agenda*视图* 中按 =v= （调用的是 org-agenda-view-mode-dispatch）
|---------------------------|
| 视图种类                  |
|---------------------------|
| 日/周/月/年视图           |
| Log模式                   |
| 周报                      |
| diary模式（显示各种节日） |
| 时间打卡完整性            |
|---------------------------|

** org-agenda error：视图中子任务完成时todo颜色不变
:PROPERTIES:
:ID:       885bbcc4-c204-4618-9994-c4036977e03d
:END:
1. =M-x customize=
2. 在 Org Agenda Dim Blocked Tasks 中设置 Do not dim

** org-agenda error：重复任务过了deadline依旧在视图中显示
:PROPERTIES:
:ID:       8257e003-196b-4401-93b0-54ae288ba4dd
:END:
*解决* ：设置变量 =org-agenda-skip-scheduled-repeats-after-deadline= 为 t
#+name: 问题复现
#+begin_comment
25-27号为重复任务，SCHEDULED 设置为25，DEADLINE 设置为27，但27号后依旧显示重复任务
#+end_comment

